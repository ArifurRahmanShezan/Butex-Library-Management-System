<div class="container">
  <header>
    <h1> Accessioning Received Items</h1>
  </header>

  <form (ngSubmit)="onSubmit()" #accessionForm="ngForm">
    <label>Item ID</label>
    <input
      type="text"
      id="itemID"
      name="itemID"
      placeholder="Enter Item ID"
      [(ngModel)]="itemID"
      required
    />

    <label>Accession Number (Auto-generated)</label>
    <input type="text" id="accessionNo" name="accessionNo" [(ngModel)]="accessionNo" readonly />

    <label>Barcode</label>
    <div class="barcode-group">
      <input
        type="text"
        id="barcode"
        name="barcode"
        placeholder="Generate Barcode"
        [(ngModel)]="barcode"
      />
      <button type="button" (click)="generateBarcode()">Generate</button>
    </div>

    <button type="submit">Submit Record</button>
    <p class="success-msg" *ngIf="successVisible">âœ… Record saved successfully!</p>
  </form>

  <h2 style="margin-top:40px; color:#2d3436; text-align:center;">Recent Accessions</h2>
  <table>
    <thead>
      <tr>
        <th>Item ID</th>
        <th>Accession Number</th>
        <th>Barcode</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let record of records">
        <td>{{ record.itemID }}</td>
        <td>{{ record.accessionNo }}</td>
        <td>
          <svg #barcodeSVG></svg>
        </td>
      </tr>
    </tbody>
  </table>
</div>
