<div class="container">
  <h2>Add Patron Category</h2>

  <!-- Form -->
  <form (ngSubmit)="addCategory()" #catForm="ngForm">
    <label>Category Name *</label>
    <input
      type="text"
      name="name"
      [(ngModel)]="name"
      placeholder="Enter category name"
      required
    />

    <label>Description *</label>
    <textarea
      name="description"
      [(ngModel)]="description"
      rows="3"
      placeholder="Enter description"
      required
    ></textarea>

    <button type="submit" [disabled]="!catForm.form.valid">
      Add Category
    </button>
  </form>

  <hr />

  <!-- Table -->
  <h2>Existing Patron Categories</h2>
  <pre>{{ patronCategories | json }}</pre> <!-- debug -->
  <div class="table-container" *ngIf="patronCategories.length > 0; else noData">
    <table>
      <thead>
        <tr>
          <th>#</th>
          <th>Category Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of patronCategories; let i = index">
          <td>{{ i + 1 }}</td>
          <td>{{ item.name }}</td>
          <td>{{ item.description }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <ng-template #noData>
    <p class="no-data">No categories found.</p>
  </ng-template>
</div>
