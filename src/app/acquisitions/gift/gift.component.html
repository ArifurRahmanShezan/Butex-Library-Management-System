<div class="container">
  <header>
    <h1>Gifts Processing Management</h1>
  </header>

  <div class="tabs">
    <div class="tab-btn" [class.active]="activeTab==='form9'" (click)="switchTab('form9')">Solicit Gift</div>
    <div class="tab-btn" [class.active]="activeTab==='form10'" (click)="switchTab('form10')">Process Gift</div>
  </div>

  <!-- Form 9: Solicit Gift -->
  <form *ngIf="activeTab==='form9'" (ngSubmit)="handleSolicitGift()" #solicitForm="ngForm">
    <label>Donor Name</label>
    <input type="text" [(ngModel)]="solicit.donorName" name="donorName" placeholder="Enter donor name" required>

    <label>Item Description</label>
    <textarea [(ngModel)]="solicit.itemDescription" name="itemDescription" rows="4" placeholder="Enter gift item description" required></textarea>

    <label>Request Date</label>
    <input type="date" [(ngModel)]="solicit.requestDate" name="requestDate" required>

    <button type="submit">Submit Request</button>
  </form>

  <!-- Form 10: Process Gift -->
  <form *ngIf="activeTab==='form10'" (ngSubmit)="handleProcessGift()" #processForm="ngForm">
    <label>Gift ID</label>
    <input type="text" [(ngModel)]="process.giftId" name="giftId" placeholder="Enter gift ID" required>

    <label>Decision</label>
    <div class="radio-group">
      <label><input type="radio" [(ngModel)]="process.decision" name="decision" value="Accepted" required> Accept</label>
      <label><input type="radio" [(ngModel)]="process.decision" name="decision" value="Rejected"> Reject</label>
    </div>

    <label>Accession Number</label>
    <input type="text" [(ngModel)]="process.accessionNumber" name="accessionNumber" placeholder="Enter accession number" required>

    <button type="submit">Process Gift</button>
  </form>

  <!-- Solicit Gift Activities -->
  <div *ngIf="activeTab==='form9'" class="activity-section">
    <h2>Solicited Gifts</h2>
    <table class="activity-table">
      <thead>
        <tr>
          <th>#</th>
          <th>Donor Name</th>
          <th>Item Description</th>
          <th>Request Date</th>
          <th>Submitted At</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let activity of solicitGiftActivities; let i = index">
          <td>{{ i + 1 }}</td>
          <td>{{ activity.donorName }}</td>
          <td>{{ activity.itemDescription }}</td>
          <td>{{ activity.requestDate }}</td>
          <td>{{ activity.timestamp }}</td>
        </tr>
        <tr *ngIf="solicitGiftActivities.length === 0">
          <td colspan="5" class="empty">No gift solicitation yet.</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Process Gift Activities -->
  <div *ngIf="activeTab==='form10'" class="activity-section">
    <h2>Processed Gifts</h2>
    <table class="activity-table">
      <thead>
        <tr>
          <th>#</th>
          <th>Gift ID</th>
          <th>Decision</th>
          <th>Accession Number</th>
          <th>Processed At</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let activity of processGiftActivities; let i = index">
          <td>{{ i + 1 }}</td>
          <td>{{ activity.giftId }}</td>
          <td>{{ activity.decision }}</td>
          <td>{{ activity.accessionNumber }}</td>
          <td>{{ activity.timestamp }}</td>
        </tr>
        <tr *ngIf="processGiftActivities.length === 0">
          <td colspan="5" class="empty">No gift processed yet.</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
